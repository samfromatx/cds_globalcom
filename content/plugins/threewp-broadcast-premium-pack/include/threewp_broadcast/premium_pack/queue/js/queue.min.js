jQuery(document).ready(function(a){window.broadcast_queue={$widgets:null,$widget:null,ajax_action:function(){a.ajax({data:{action:this.$widget.data("action"),parent_blog_id:this.$widget.data("parent_blog_id"),parent_post_id:this.$widget.data("parent_post_id"),},dataType:"html",error:function(b){window.broadcast_queue.$widget.html("Unable to parse server response: "+b.responseText);window.broadcast_queue.later()},success:function(d){try{var c=jQuery.parseJSON(d);if(c===null){throw new b("parseJSON error")}}catch(b){window.broadcast_queue.$widget.html(window.threewp_broadcast_queue_strings.no_json+"<br/>Data was "+d.length+" bytes long.<br/>"+d);setTimeout(function(){window.broadcast_queue.later()},5000);return}if(c.html!==undefined){window.broadcast_queue.$widget.html(c.html)}if(c.finished!==undefined){window.broadcast_queue.$widget.removeClass("active");broadcast_queue.init();return}if(c.no_items!==undefined){window.broadcast_queue.later();return}if(c.wait!==undefined){window.broadcast_queue.wait(c.wait,function(){window.broadcast_queue.ajax_action()})}},type:"post",url:ajaxurl,})},init:function(){this.$widgets=a("div.broadcast_queue_widget.active");if(this.$widgets.length<1){a("div.broadcast_queue_widget.later").removeClass("later").addClass("active");this.$widgets=a("div.broadcast_queue_widget.active")}if(this.$widgets.length<1){return}this.$widget=window.broadcast_queue.$widgets.first();this.$widget.html(window.threewp_broadcast_queue_strings.processing);this.ajax_action()},later:function(){window.broadcast_queue.$widget.addClass("later").removeClass("active");broadcast_queue.init()},wait:function(c,d){window.broadcast_queue.$widget.$seconds_container=a("<div>").html(window.threewp_broadcast_queue_strings.waiting).appendTo(window.broadcast_queue.$widget);var b=a(".seconds",window.broadcast_queue.$widget.$seconds_container);b.html(c);setTimeout(function(){window.broadcast_queue.wait_more(d)},1000)},wait_more:function(d){var b=a(".seconds",window.broadcast_queue.$widget.$seconds_container);var c=b.html();c--;b.html(c);if(c<1){window.broadcast_queue.$widget.$seconds_container.remove();d()}else{setTimeout(function(){window.broadcast_queue.wait_more(d)},1000)}}};broadcast_queue.init()});